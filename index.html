<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8NEMWLX7BF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date()); gtag('config', 'G-8NEMWLX7BF');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports World | Premium Football Portal</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --primary: #e01e2e; --dark: #121212; --card-bg: #ffffff; --text: #1a1a1a; }
        [data-theme="dark"] { --dark: #000000; --card-bg: #1a1a1a; --text: #ffffff; }

        body { background: #f0f2f5; font-family: 'Roboto', sans-serif; color: var(--text); }
        h1, h2, h3, .navbar-brand { font-family: 'Oswald', sans-serif; text-transform: uppercase; }

        .navbar { background: var(--dark) !important; border-bottom: 3px solid var(--primary); }
        .hero-section { background: var(--dark); color: white; padding: 60px 0; margin-bottom: 40px; clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%); }
        
        .league-row { margin-bottom: 50px; }
        .league-title { border-left: 5px solid var(--primary); padding-left: 15px; margin-bottom: 25px; font-size: 1.8rem; }
        [dir="rtl"] .league-title { border-left: 0; border-right: 5px solid var(--primary); padding-left: 0; padding-right: 15px; }

        .video-card { background: var(--card-bg); border-radius: 0; border: none; box-shadow: 0 4px 12px rgba(0,0,0,0.1); transition: 0.3s; height: 100%; }
        .video-card:hover { transform: translateY(-5px); box-shadow: 0 8px 24px rgba(0,0,0,0.2); }
        
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; background: #000; }
        .video-container iframe { position: absolute; width: 100%; height: 100%; top: 0; left: 0; }

        .team-badge { width: 35px; height: 35px; border-radius: 50%; object-fit: cover; background: #eee; }
        .live-sidebar { background: var(--card-bg); border-radius: 8px; border-top: 4px solid var(--primary); }
        
        .lang-btn { font-size: 0.7rem; padding: 2px 8px; }
    </style>
</head>
<body>

<nav class="navbar navbar-dark sticky-top">
    <div class="container d-flex justify-content-between">
        <a class="navbar-brand fs-2" href="/">SPORTS <span class="text-danger">WORLD</span></a>
        <div class="d-flex align-items-center gap-3">
            <div class="btn-group">
                <button class="btn btn-outline-light lang-btn" onclick="setLang('en')">EN</button>
                <button class="btn btn-outline-light lang-btn" onclick="setLang('he')">注</button>
            </div>
            <button class="btn btn-sm btn-outline-warning" onclick="toggleTheme()"></button>
        </div>
    </div>
</nav>

<div class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-7">
                <h1 class="display-3" id="hero-msg">GLOBAL FOOTBALL<br><span class="text-danger">INSIDER</span></h1>
                <p class="lead">The most updated highlights and live results from every top flight league in the world.</p>
            </div>
            <div class="col-md-5 d-none d-md-block">
                <div id="live-ticker" class="live-sidebar p-3 shadow-lg">
                    <h5 class="fw-bold text-dark">LIVE UPDATES</h5>
                    <div id="live-content" class="text-dark">Loading scores...</div>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="container">
    <div id="leagues-container">
        </div>
</div>

<script>
    const i18n = {
        en: { dir: "ltr", hero: "GLOBAL FOOTBALL<br><span class='text-danger'>INSIDER</span>", live: "LIVE SCORES" },
        he: { dir: "rtl", hero: "砖转 住驻专<br><span class='text-danger'>注转 转专</span>", live: "转爪转 转" }
    };

    function toggleTheme() {
        document.body.dataset.theme = document.body.dataset.theme === 'dark' ? 'light' : 'dark';
    }

    function setLang(l) {
        document.documentElement.dir = i18n[l].dir;
        document.getElementById('hero-msg').innerHTML = i18n[l].hero;
        renderAll();
    }

    async function init() {
        try {
            const hRes = await fetch('data/highlights_by_league.json');
            window.leagueData = await hRes.json();
            
            const lRes = await fetch('data/live_scores.json');
            window.liveData = await lRes.json();
            
            renderAll();
        } catch (e) { console.error("Error loading data", e); }
    }

    function renderAll() {
        const container = document.getElementById('leagues-container');
        container.innerHTML = '';

        // 爪专转 砖专  
        for (const [league, matches] of Object.entries(window.leagueData)) {
            let leagueHtml = `
                <div class="league-row">
                    <h2 class="league-title">${league}</h2>
                    <div class="row g-4">
            `;

            matches.forEach(m => {
                leagueHtml += `
                    <div class="col-md-6 col-lg-4">
                        <div class="video-card card">
                            <div class="video-container">${m.embed_code}</div>
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-2">
                                    <img src="${m.home_logo}" class="team-badge me-2">
                                    <span class="fw-bold small">${m.home_team} vs ${m.away_team}</span>
                                    <img src="${m.away_logo}" class="team-badge ms-2">
                                </div>
                                <h6 class="card-title fw-bold">${m.title}</h6>
                                <p class="text-muted extra-small" style="font-size:0.7rem">${new Date(m.date).toLocaleString()}</p>
                            </div>
                        </div>
                    </div>
                `;
            });

            leagueHtml += `</div></div>`;
            container.innerHTML += leagueHtml;
        }

        // 注 转爪转 转 住专
        const liveCont = document.getElementById('live-content');
        liveCont.innerHTML = window.liveData.slice(0,5).map(m => `
            <div class="border-bottom py-2 small d-flex justify-content-between">
                <span>${m.teams.home.name}</span>
                <span class="badge bg-dark">${m.goals.home} - ${m.goals.away}</span>
                <span>${m.teams.away.name}</span>
            </div>
        `).join('') || "No live matches right now.";
    }

    init();
</script>
</body>
</html>
