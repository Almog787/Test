<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8NEMWLX7BF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date()); gtag('config', 'G-8NEMWLX7BF');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="OrJ99zXpus_GMOqnEmZI1sJSos31nitrKKtMX8o49KM" />

    <title>Sports Plus | Global Football Highlights & Live Scores</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root { --bg: #f4f7f6; --card: #ffffff; --text: #1a1a1a; --accent: #0d6efd; }
        [data-theme="dark"] { --bg: #0f1113; --card: #1a1d21; --text: #e9ecef; --accent: #3d8bfd; }
        
        body { background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; transition: 0.3s; }
        .navbar { background: #000; border-bottom: 2px solid var(--accent); }
        .card { background: var(--card); border: none; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); overflow: hidden; }
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; background: #000; }
        .video-container iframe { position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: 0; }
        .team-logo { width: 45px; height: 45px; object-fit: contain; }
        .nav-scroller { white-space: nowrap; overflow-x: auto; padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05); }
        .nav-link { color: var(--text); font-weight: 600; cursor: pointer; opacity: 0.7; }
        .nav-link.active { opacity: 1; color: var(--accent); border-bottom: 2px solid var(--accent); }
        .live-badge { background: #ff4757; color: white; padding: 2px 8px; border-radius: 5px; font-size: 0.7rem; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
    </style>
</head>
<body data-theme="light">

    <nav class="navbar navbar-dark sticky-top">
        <div class="container d-flex justify-content-between">
            <a class="navbar-brand fw-black" href="#" id="brand-text"> SPORTS PLUS</a>
            <div class="d-flex gap-2">
                <button class="btn btn-sm btn-outline-light" onclick="setLang('en')">EN</button>
                <button class="btn btn-sm btn-outline-light" onclick="setLang('he')">注</button>
                <button class="btn btn-sm btn-outline-warning" onclick="toggleTheme()"></button>
            </div>
        </div>
    </nav>

    <div class="nav-scroller container mb-4" id="cat-nav"></div>

    <main class="container">
        <div class="row">
            <div class="col-lg-8">
                <h3 class="fw-bold mb-4" id="main-title">Latest Highlights</h3>
                <div id="highlights-feed"></div>
            </div>
            <div class="col-lg-4">
                <div class="card p-4 sticky-top" style="top: 90px;">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="fw-bold mb-0" id="live-title">Live Scores</h5>
                        <span class="live-badge">LIVE</span>
                    </div>
                    <div id="live-feed"></div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const i18n = {
            en: { latest: "Latest Highlights", live: "Live Scores", view: "Watch", dir: "ltr", all: "All" },
            he: { latest: "转拽爪专 专", live: "转爪转 转", view: "爪驻", dir: "rtl", all: "" }
        };
        let currentLang = 'en';
        let data = [];

        function toggleTheme() {
            document.body.dataset.theme = document.body.dataset.theme === 'light' ? 'dark' : 'light';
        }

        function setLang(l) {
            currentLang = l;
            document.documentElement.dir = i18n[l].dir;
            document.getElementById('main-title').textContent = i18n[l].latest;
            document.getElementById('live-title').textContent = i18n[l].live;
            renderAll();
        }

        async function init() {
            const [h, c, l] = await Promise.all([
                fetch('data/sports_highlights.json').then(r => r.json()),
                fetch('data/categories.json').then(r => r.json()),
                fetch('data/live_scores.json').then(r => r.json())
            ]);
            window.fullData = h;
            window.cats = c;
            window.lives = l;
            renderAll();
        }

        function renderAll() {
            // Categories
            const catCont = document.getElementById('cat-nav');
            catCont.innerHTML = `<span class="nav-link d-inline-block me-3 active" onclick="filter('all')">${i18n[currentLang].all}</span>`;
            window.cats.forEach(c => {
                catCont.innerHTML += `<span class="nav-link d-inline-block me-3" onclick="filter('${c}')">${c}</span>`;
            });

            // Live Scores
            const liveCont = document.getElementById('live-feed');
            liveCont.innerHTML = window.lives.slice(0,8).map(m => `
                <div class="py-2 border-bottom d-flex justify-content-between small">
                    <span class="text-truncate" style="width:70px">${m.teams.home.name}</span>
                    <span class="fw-bold">${m.goals.home} - ${m.goals.away}</span>
                    <span class="text-truncate text-end" style="width:70px">${m.teams.away.name}</span>
                </div>
            `).join('') || "No live matches.";

            filter('all');
        }

        function filter(c) {
            const feed = document.getElementById('highlights-feed');
            const filtered = c === 'all' ? window.fullData : window.fullData.filter(i => i.competition === c);
            
            feed.innerHTML = filtered.map(i => `
                <div class="card p-3 mb-4">
                    <div class="row g-3">
                        <div class="col-md-7"><div class="video-container">${i.embed_code}</div></div>
                        <div class="col-md-5">
                            <div class="d-flex justify-content-around align-items-center mb-3 text-center">
                                <div><img src="${i.home_team.logo}" class="team-logo"><div class="small mt-1">${i.home_team.name}</div></div>
                                <div class="fw-bold">VS</div>
                                <div><img src="${i.away_team.logo}" class="team-logo"><div class="small mt-1">${i.away_team.name}</div></div>
                            </div>
                            <span class="badge bg-primary-subtle text-primary mb-2">${i.competition}</span>
                            <h6 class="fw-bold mb-3">${i.title}</h6>
                            <a href="${i.url}" target="_blank" class="btn btn-dark btn-sm w-100">${i18n[currentLang].view}</a>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        init();
    </script>
</body>
</html>
